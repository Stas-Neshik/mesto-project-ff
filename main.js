(()=>{"use strict";function e(e){e.classList.add("popup_is-animated"),e.classList.add("popup_is-opened"),window.addEventListener("keydown",n),window.addEventListener("click",o)}function t(e){e.classList.remove("popup_is-opened"),window.removeEventListener("keydown",n),window.removeEventListener("click",o)}function o(e){e.target.classList.contains("popup")&&t(e.target)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}var r=function(e,t,o,n){var r=document.getElementById("card-template").content.cloneNode(!0);return r.querySelector(".card__image").src=e.link,r.querySelector(".card__image").alt=e.name,r.querySelector(".card__title").textContent=e.name,r.querySelector(".card__delete-button").addEventListener("click",t),r.querySelector(".card__like-button").addEventListener("click",o),r.querySelector(".card__image").addEventListener("click",n),r};function i(e){e.target.closest(".card").remove()}function c(e){e.target.classList.toggle("card__like-button_is-active")}var a=document.querySelector(".places__list"),u=document.forms["edit-profile"],p=u.querySelector(".popup__input_type_name"),l=u.querySelector(".popup__input_type_description"),d=document.forms["new-place"],s=document.querySelector(".popup__input_type_card-name"),f=document.querySelector(".popup__input_type_url"),m=document.querySelector(".profile__add-button"),_=document.querySelectorAll(".popup__close"),y=document.querySelector(".profile__edit-button"),x=document.querySelector(".popup_type_edit"),w=document.querySelector(".popup_type_new-card"),q=document.querySelector(".popup_type_image");function b(t){q.querySelector(".popup__image").src=t.target.src,q.querySelector(".popup__image").alt=t.target.alt,q.querySelector(".popup__caption").textContent=t.target.alt,e(q)}[{name:"Парк штата Огненная Долина, США",link:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=3087&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Иссландия",link:"https://images.unsplash.com/photo-1504893524553-b855bce32c67?q=80&w=3087&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Долина Йосемити ,США",link:"https://images.unsplash.com/photo-1502512571217-6a08d302fe5a?q=80&w=3088&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Эльбрус",link:"https://images.unsplash.com/photo-1627414363144-8982a29a0922?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Алтай",link:"https://images.unsplash.com/photo-1626538481998-0629afebd684?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Камчатка",link:"https://images.unsplash.com/photo-1535557142533-b5e1cc6e2a5d?q=80&w=3029&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((function(e){a.append(r(e,i,c,b))})),y.addEventListener("click",(function(){p.value=document.querySelector(".profile__title").textContent,l.value=document.querySelector(".profile__description").textContent,e(x)})),m.addEventListener("click",(function(){e(w)})),d.addEventListener("submit",(function(e){e.preventDefault();var o={name:s.value,link:f.value};a.prepend(r(o,i,c,b));var n=document.querySelector(".popup_is-opened");d.reset(),t(n)})),u.addEventListener("submit",(function(e){e.preventDefault();var o=p.value,n=l.value,r=document.querySelector(".profile__title"),i=document.querySelector(".profile__description");r.textContent=o,i.textContent=n,t(x)})),_.forEach((function(e){e.addEventListener("click",(function(e){t(e.target.closest(".popup"))}))}))})();